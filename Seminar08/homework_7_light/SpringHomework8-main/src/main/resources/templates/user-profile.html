<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Книжный магазин</title>
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body class="bod">

<br>
<span sec:authorize="hasRole('USER')" class="nav">&nbsp;&nbsp;&nbsp;Статус: пользователь&nbsp;&nbsp;&nbsp;</span>
<span sec:authorize="hasRole('ADMIN')" class="nav">&nbsp;&nbsp;&nbsp;Статус: администратор&nbsp;&nbsp;&nbsp;</span>

<form class="link" th:action="@{/logout}" method="post" style="display: inline;">
    <button class="linkbutton" type="submit">&nbsp;&nbsp;Выйти&nbsp;&nbsp;</button>
</form>

<h1>Книжный магазин</h1>
<img th:src="@{/css/logo.jpg}" alt=""/>
<br>
<p></p>
<br>
<span class="rev">Всего куплено на сумму: </span><span class="rev" th:text="${purchase}"></span>
<br>
<h2>Все книги:</h2>

<table class="tab">
    <tr>
        <th>Название</th>
        <th>Автор</th>
        <th>Цена</th>
        <th>Номер полки</th>
    </tr>
    <tr th:each="b: ${books}">
        <td th:text="${b.name}"></td>
        <td th:text="${b.author}"></td>
        <td th:text="${b.price}"></td>
        <td th:text="${b.shelf}"></td>
        <td><a th:href="@{book-purchase/{name}(name=${b.name})}">Купить</a></td>
    </tr>
</table>

</body>
</html>